# コマンド実行履歴

## 概要
プロジェクト内で使用可能なコマンドとその実行結果を記録するファイル

---

## 📈 日次推奨銘柄レポート作成

### コマンド
```bash
python daily_stock_recommendation.py --date 2025-09-05
```

### 実行結果例
```
📈 日次株価予測レポート
=====================================

📅 基準日付: 2025-09-05
📅 推奨取引日: 2025-09-06
🏆 推奨銘柄数: 5銘柄 (TOP 5)
⚙️  最適パラメータ: 保有10日・利確7.0%・損切5.0%

=====================================
🎯 推奨銘柄一覧
=====================================

1位: トヨタ自動車 (7203)
  💰 現在価格: ¥2,450
  📈 目標価格: ¥2,622 (+7.0%)
  📉 損切価格: ¥2,328 (-5.0%)
  🎯 予測確率: 67.8%
  📊 出来高: 8,450,000株
  📈 RSI(14): 65.2
  📊 MACD: 上昇
  ⏰ 推奨保有: 10日間

2位: ソニーグループ (6758)
  💰 現在価格: ¥13,250
  📈 目標価格: ¥14,178 (+7.0%)
  📉 損切価格: ¥12,588 (-5.0%)
  🎯 予測確率: 63.4%
  📊 出来高: 3,250,000株
  📈 RSI(14): 58.9
  📊 MACD: 上昇
  ⏰ 推奨保有: 10日間
```

### 出力ファイル
- `results/daily_reports/stock_recommendation_2025-09-05_143052.txt`

---

## ⚡ 並列パラメータ最適化実行

### コマンド
```bash
python parallel_parameter_optimization.py
```

### 実行結果
- **検証パターン**: 926組み合わせ
- **実行時間**: 18分53秒（7並列プロセス）
- **最優秀パラメータ**: 保有10日・利確7%・損切5%
- **期待リターン**: 114.63%
- **期待最終評価額**: ¥2,146,302

### 出力ファイル
- `optimization_progress.log`: 実行進捗ログ
- コンソールに結果詳細表示

---

## 🔍 精度検証テスト実行

### コマンド
```bash
python nikkei225_full_precision_test.py
```

### 実行結果
- **データ件数**: 530,744件（日経225・10年間）
- **達成精度**: 95.45%（63/66予測正解）
- **目標精度**: 60%以上 ✅ 達成
- **特徴量数**: 30+項目

### 出力ファイル
- `models/`: 学習済みモデルファイル
- `results/enhanced_precision/`: 検証結果

---

## 📊 データ取得・前処理

### J-Quantsデータ取得
```bash
python nikkei225_full_10year_fetcher.py
```

### 実行結果
- **取得件数**: 530,744レコード
- **対象銘柄**: 日経225全銘柄（225社）
- **期間**: 10年間（2015-2025）
- **成功率**: 100%

### 出力ファイル
- `data/nikkei225_quotes_*.parquet`: 株価データ
- `data/nikkei225_codes.csv`: 銘柄マスター

---

## 📈 個別レポート生成

### 特定日付の詳細レポート
```bash
python daily_stock_recommendation.py --date 2025-08-01 --top 10
```

### 結果
- TOP10推奨銘柄リスト
- 各銘柄の詳細分析
- 投資戦略・リスク管理方針
- 期待パフォーマンス予測

---

## 🛠️ メンテナンスコマンド

### ログファイル確認
```bash
tail -f optimization_progress.log
```

### データファイル一覧
```bash
ls -la data/*.parquet
```

### モデルファイル確認
```bash
ls -la models/*final_model*.pkl
```

---

## 📋 推奨実行順序

### 新規環境セットアップ時
1. `python nikkei225_full_10year_fetcher.py` - データ取得
2. `python nikkei225_full_precision_test.py` - モデル学習・精度検証
3. `python parallel_parameter_optimization.py` - パラメータ最適化
4. `python daily_stock_recommendation.py --date YYYY-MM-DD` - 日次レポート生成

### 日次運用時
1. `python daily_stock_recommendation.py --date YYYY-MM-DD` - 推奨銘柄レポート生成

---

## ⚠️ 注意事項

- 日付は `YYYY-MM-DD` 形式で指定
- 土日祝日は取引データが存在しないため前営業日を使用
- レポート生成には学習済みモデルが必要
- J-Quantsデータ取得にはAPI認証情報が必要

---

## 📁 出力ディレクトリ構成

```
results/
├── daily_reports/          # 日次レポート
│   └── stock_recommendation_*.txt
├── enhanced_precision/     # 精度検証結果
└── real_data_backtest/    # バックテスト結果

models/                    # 学習済みモデル
├── *final_model*.pkl
└── *scaler*.pkl

data/                      # データファイル
├── *.parquet             # 株価データ
└── nikkei225_codes.csv   # 銘柄マスター
```

---

## 更新履歴
- 2025/09/06: 初版作成 - 日次推奨銘柄レポートシステム完成